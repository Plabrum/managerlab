"""Harden inbound email processing

- Add unique partial index ensuring users can only be OWNER of one team
- Make InboundEmail.from_email non-null (validated in task before storage)
- Make InboundEmail.team_id non-null (set from user's primary team)
- Update FK constraint to CASCADE on delete

Revision ID: 9d886c2e85c0
Revises: ede48058260c
Create Date: 2025-11-24 17:21:57.384231

"""

from typing import Sequence, Union

import sqlalchemy as sa
from alembic_utils.pg_grant_table import PGGrantTable
from sqlalchemy import text as sql_text

from alembic import op
from app.state_machine.models import TextEnum
from app.utils.sqids import SqidType

# revision identifiers, used by Alembic.
revision: str = "9d886c2e85c0"
down_revision: Union[str, Sequence[str], None] = "ede48058260c"
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.alter_column("inbound_emails", "from_email", existing_type=sa.TEXT(), nullable=False)
    op.alter_column("inbound_emails", "team_id", existing_type=sa.INTEGER(), nullable=False)
    op.drop_constraint(op.f("inbound_emails_team_id_fkey"), "inbound_emails", type_="foreignkey")
    op.create_foreign_key(None, "inbound_emails", "teams", ["team_id"], ["id"], ondelete="CASCADE")
    op.create_index(
        "ix_user_single_owner", "roles", ["user_id"], unique=True, postgresql_where=sa.text("role_level = 'OWNER'")
    )
    public_alembic_version_arive_insert = PGGrantTable(
        schema="public",
        table="alembic_version",
        columns=["version_num"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_alembic_version_arive_insert)

    public_alembic_version_arive_select = PGGrantTable(
        schema="public",
        table="alembic_version",
        columns=["version_num"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_alembic_version_arive_select)

    public_alembic_version_arive_update = PGGrantTable(
        schema="public",
        table="alembic_version",
        columns=["version_num"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_alembic_version_arive_update)

    public_brand_contacts_arive_insert = PGGrantTable(
        schema="public",
        table="brand_contacts",
        columns=[
            "brand_id",
            "created_at",
            "deleted_at",
            "email",
            "first_name",
            "id",
            "last_name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_brand_contacts_arive_insert)

    public_brand_contacts_arive_select = PGGrantTable(
        schema="public",
        table="brand_contacts",
        columns=[
            "brand_id",
            "created_at",
            "deleted_at",
            "email",
            "first_name",
            "id",
            "last_name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_brand_contacts_arive_select)

    public_brand_contacts_arive_update = PGGrantTable(
        schema="public",
        table="brand_contacts",
        columns=[
            "brand_id",
            "created_at",
            "deleted_at",
            "email",
            "first_name",
            "id",
            "last_name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_brand_contacts_arive_update)

    public_brands_arive_insert = PGGrantTable(
        schema="public",
        table="brands",
        columns=[
            "created_at",
            "deleted_at",
            "description",
            "email",
            "id",
            "name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
            "website",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_brands_arive_insert)

    public_brands_arive_select = PGGrantTable(
        schema="public",
        table="brands",
        columns=[
            "created_at",
            "deleted_at",
            "description",
            "email",
            "id",
            "name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
            "website",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_brands_arive_select)

    public_brands_arive_update = PGGrantTable(
        schema="public",
        table="brands",
        columns=[
            "created_at",
            "deleted_at",
            "description",
            "email",
            "id",
            "name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
            "website",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_brands_arive_update)

    public_campaign_contracts_arive_insert = PGGrantTable(
        schema="public",
        table="campaign_contracts",
        columns=["campaign_id", "created_at", "deleted_at", "document_id", "id", "team_id", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_contracts_arive_insert)

    public_campaign_contracts_arive_select = PGGrantTable(
        schema="public",
        table="campaign_contracts",
        columns=["campaign_id", "created_at", "deleted_at", "document_id", "id", "team_id", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_contracts_arive_select)

    public_campaign_contracts_arive_update = PGGrantTable(
        schema="public",
        table="campaign_contracts",
        columns=["campaign_id", "created_at", "deleted_at", "document_id", "id", "team_id", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_contracts_arive_update)

    public_campaign_guests_arive_insert = PGGrantTable(
        schema="public",
        table="campaign_guests",
        columns=[
            "access_level",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "invited_by_user_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_guests_arive_insert)

    public_campaign_guests_arive_select = PGGrantTable(
        schema="public",
        table="campaign_guests",
        columns=[
            "access_level",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "invited_by_user_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_guests_arive_select)

    public_campaign_guests_arive_update = PGGrantTable(
        schema="public",
        table="campaign_guests",
        columns=[
            "access_level",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "invited_by_user_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_guests_arive_update)

    public_campaign_lead_contacts_arive_insert = PGGrantTable(
        schema="public",
        table="campaign_lead_contacts",
        columns=["brand_contact_id", "campaign_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_lead_contacts_arive_insert)

    public_campaign_lead_contacts_arive_select = PGGrantTable(
        schema="public",
        table="campaign_lead_contacts",
        columns=["brand_contact_id", "campaign_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_lead_contacts_arive_select)

    public_campaign_lead_contacts_arive_update = PGGrantTable(
        schema="public",
        table="campaign_lead_contacts",
        columns=["brand_contact_id", "campaign_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_lead_contacts_arive_update)

    public_campaigns_arive_insert = PGGrantTable(
        schema="public",
        table="campaigns",
        columns=[
            "approval_rounds",
            "approval_sla_hours",
            "assigned_roster_id",
            "brand_id",
            "compensation_structure",
            "compensation_total_usd",
            "counterparty_email",
            "counterparty_name",
            "counterparty_type",
            "created_at",
            "deleted_at",
            "description",
            "exclusivity_category",
            "exclusivity_days_after",
            "exclusivity_days_before",
            "flight_end_date",
            "flight_start_date",
            "ftc_string",
            "id",
            "name",
            "ownership_mode",
            "payment_terms_days",
            "state",
            "team_id",
            "updated_at",
            "usage_duration",
            "usage_paid_media_option",
            "usage_territory",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_campaigns_arive_insert)

    public_campaigns_arive_select = PGGrantTable(
        schema="public",
        table="campaigns",
        columns=[
            "approval_rounds",
            "approval_sla_hours",
            "assigned_roster_id",
            "brand_id",
            "compensation_structure",
            "compensation_total_usd",
            "counterparty_email",
            "counterparty_name",
            "counterparty_type",
            "created_at",
            "deleted_at",
            "description",
            "exclusivity_category",
            "exclusivity_days_after",
            "exclusivity_days_before",
            "flight_end_date",
            "flight_start_date",
            "ftc_string",
            "id",
            "name",
            "ownership_mode",
            "payment_terms_days",
            "state",
            "team_id",
            "updated_at",
            "usage_duration",
            "usage_paid_media_option",
            "usage_territory",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_campaigns_arive_select)

    public_campaigns_arive_update = PGGrantTable(
        schema="public",
        table="campaigns",
        columns=[
            "approval_rounds",
            "approval_sla_hours",
            "assigned_roster_id",
            "brand_id",
            "compensation_structure",
            "compensation_total_usd",
            "counterparty_email",
            "counterparty_name",
            "counterparty_type",
            "created_at",
            "deleted_at",
            "description",
            "exclusivity_category",
            "exclusivity_days_after",
            "exclusivity_days_before",
            "flight_end_date",
            "flight_start_date",
            "ftc_string",
            "id",
            "name",
            "ownership_mode",
            "payment_terms_days",
            "state",
            "team_id",
            "updated_at",
            "usage_duration",
            "usage_paid_media_option",
            "usage_territory",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_campaigns_arive_update)

    public_dashboards_arive_insert = PGGrantTable(
        schema="public",
        table="dashboards",
        columns=[
            "config",
            "created_at",
            "deleted_at",
            "id",
            "is_default",
            "name",
            "owner_type",
            "team_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_dashboards_arive_insert)

    public_dashboards_arive_select = PGGrantTable(
        schema="public",
        table="dashboards",
        columns=[
            "config",
            "created_at",
            "deleted_at",
            "id",
            "is_default",
            "name",
            "owner_type",
            "team_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_dashboards_arive_select)

    public_dashboards_arive_update = PGGrantTable(
        schema="public",
        table="dashboards",
        columns=[
            "config",
            "created_at",
            "deleted_at",
            "id",
            "is_default",
            "name",
            "owner_type",
            "team_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_dashboards_arive_update)

    public_deliverable_media_arive_insert = PGGrantTable(
        schema="public",
        table="deliverable_media",
        columns=[
            "approved_at",
            "campaign_id",
            "created_at",
            "deleted_at",
            "deliverable_id",
            "id",
            "is_featured",
            "media_id",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_deliverable_media_arive_insert)

    public_deliverable_media_arive_select = PGGrantTable(
        schema="public",
        table="deliverable_media",
        columns=[
            "approved_at",
            "campaign_id",
            "created_at",
            "deleted_at",
            "deliverable_id",
            "id",
            "is_featured",
            "media_id",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_deliverable_media_arive_select)

    public_deliverable_media_arive_update = PGGrantTable(
        schema="public",
        table="deliverable_media",
        columns=[
            "approved_at",
            "campaign_id",
            "created_at",
            "deleted_at",
            "deliverable_id",
            "id",
            "is_featured",
            "media_id",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_deliverable_media_arive_update)

    public_deliverables_arive_insert = PGGrantTable(
        schema="public",
        table="deliverables",
        columns=[
            "approval_required",
            "approval_rounds",
            "campaign_id",
            "content",
            "count",
            "created_at",
            "deleted_at",
            "deliverable_type",
            "disclosures",
            "handles",
            "hashtags",
            "id",
            "notes",
            "platforms",
            "posting_date",
            "posting_end_date",
            "posting_start_date",
            "state",
            "team_id",
            "title",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_deliverables_arive_insert)

    public_deliverables_arive_select = PGGrantTable(
        schema="public",
        table="deliverables",
        columns=[
            "approval_required",
            "approval_rounds",
            "campaign_id",
            "content",
            "count",
            "created_at",
            "deleted_at",
            "deliverable_type",
            "disclosures",
            "handles",
            "hashtags",
            "id",
            "notes",
            "platforms",
            "posting_date",
            "posting_end_date",
            "posting_start_date",
            "state",
            "team_id",
            "title",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_deliverables_arive_select)

    public_deliverables_arive_update = PGGrantTable(
        schema="public",
        table="deliverables",
        columns=[
            "approval_required",
            "approval_rounds",
            "campaign_id",
            "content",
            "count",
            "created_at",
            "deleted_at",
            "deliverable_type",
            "disclosures",
            "handles",
            "hashtags",
            "id",
            "notes",
            "platforms",
            "posting_date",
            "posting_end_date",
            "posting_start_date",
            "state",
            "team_id",
            "title",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_deliverables_arive_update)

    public_documents_arive_insert = PGGrantTable(
        schema="public",
        table="documents",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_documents_arive_insert)

    public_documents_arive_select = PGGrantTable(
        schema="public",
        table="documents",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_documents_arive_select)

    public_documents_arive_update = PGGrantTable(
        schema="public",
        table="documents",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_documents_arive_update)

    public_email_messages_arive_insert = PGGrantTable(
        schema="public",
        table="email_messages",
        columns=[
            "body_html",
            "body_text",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "reply_to_email",
            "sent_at",
            "ses_message_id",
            "subject",
            "team_id",
            "template_name",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_email_messages_arive_insert)

    public_email_messages_arive_select = PGGrantTable(
        schema="public",
        table="email_messages",
        columns=[
            "body_html",
            "body_text",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "reply_to_email",
            "sent_at",
            "ses_message_id",
            "subject",
            "team_id",
            "template_name",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_email_messages_arive_select)

    public_email_messages_arive_update = PGGrantTable(
        schema="public",
        table="email_messages",
        columns=[
            "body_html",
            "body_text",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "reply_to_email",
            "sent_at",
            "ses_message_id",
            "subject",
            "team_id",
            "template_name",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_email_messages_arive_update)

    public_events_arive_insert = PGGrantTable(
        schema="public",
        table="events",
        columns=[
            "actor_id",
            "created_at",
            "deleted_at",
            "event_data",
            "event_type",
            "id",
            "object_id",
            "object_type",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_events_arive_insert)

    public_events_arive_select = PGGrantTable(
        schema="public",
        table="events",
        columns=[
            "actor_id",
            "created_at",
            "deleted_at",
            "event_data",
            "event_type",
            "id",
            "object_id",
            "object_type",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_events_arive_select)

    public_events_arive_update = PGGrantTable(
        schema="public",
        table="events",
        columns=[
            "actor_id",
            "created_at",
            "deleted_at",
            "event_data",
            "event_type",
            "id",
            "object_id",
            "object_type",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_events_arive_update)

    public_google_oauth_accounts_arive_insert = PGGrantTable(
        schema="public",
        table="google_oauth_accounts",
        columns=[
            "access_token",
            "created_at",
            "deleted_at",
            "email",
            "google_id",
            "id",
            "name",
            "picture",
            "refresh_token",
            "token_expires_at",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_google_oauth_accounts_arive_insert)

    public_google_oauth_accounts_arive_select = PGGrantTable(
        schema="public",
        table="google_oauth_accounts",
        columns=[
            "access_token",
            "created_at",
            "deleted_at",
            "email",
            "google_id",
            "id",
            "name",
            "picture",
            "refresh_token",
            "token_expires_at",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_google_oauth_accounts_arive_select)

    public_google_oauth_accounts_arive_update = PGGrantTable(
        schema="public",
        table="google_oauth_accounts",
        columns=[
            "access_token",
            "created_at",
            "deleted_at",
            "email",
            "google_id",
            "id",
            "name",
            "picture",
            "refresh_token",
            "token_expires_at",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_google_oauth_accounts_arive_update)

    public_google_oauth_states_arive_insert = PGGrantTable(
        schema="public",
        table="google_oauth_states",
        columns=["created_at", "deleted_at", "expires_at", "id", "redirect_uri", "state", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_google_oauth_states_arive_insert)

    public_google_oauth_states_arive_select = PGGrantTable(
        schema="public",
        table="google_oauth_states",
        columns=["created_at", "deleted_at", "expires_at", "id", "redirect_uri", "state", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_google_oauth_states_arive_select)

    public_google_oauth_states_arive_update = PGGrantTable(
        schema="public",
        table="google_oauth_states",
        columns=["created_at", "deleted_at", "expires_at", "id", "redirect_uri", "state", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_google_oauth_states_arive_update)

    public_inbound_emails_arive_insert = PGGrantTable(
        schema="public",
        table="inbound_emails",
        columns=[
            "attachments_json",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "processed_at",
            "received_at",
            "s3_bucket",
            "s3_key",
            "ses_message_id",
            "subject",
            "task_id",
            "team_id",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_inbound_emails_arive_insert)

    public_inbound_emails_arive_select = PGGrantTable(
        schema="public",
        table="inbound_emails",
        columns=[
            "attachments_json",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "processed_at",
            "received_at",
            "s3_bucket",
            "s3_key",
            "ses_message_id",
            "subject",
            "task_id",
            "team_id",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_inbound_emails_arive_select)

    public_inbound_emails_arive_update = PGGrantTable(
        schema="public",
        table="inbound_emails",
        columns=[
            "attachments_json",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "processed_at",
            "received_at",
            "s3_bucket",
            "s3_key",
            "ses_message_id",
            "subject",
            "task_id",
            "team_id",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_inbound_emails_arive_update)

    public_invoices_arive_insert = PGGrantTable(
        schema="public",
        table="invoices",
        columns=[
            "amount_due",
            "amount_paid",
            "campaign_id",
            "created_at",
            "customer_email",
            "customer_name",
            "deleted_at",
            "description",
            "due_date",
            "id",
            "invoice_number",
            "notes",
            "posting_date",
            "state",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_invoices_arive_insert)

    public_invoices_arive_select = PGGrantTable(
        schema="public",
        table="invoices",
        columns=[
            "amount_due",
            "amount_paid",
            "campaign_id",
            "created_at",
            "customer_email",
            "customer_name",
            "deleted_at",
            "description",
            "due_date",
            "id",
            "invoice_number",
            "notes",
            "posting_date",
            "state",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_invoices_arive_select)

    public_invoices_arive_update = PGGrantTable(
        schema="public",
        table="invoices",
        columns=[
            "amount_due",
            "amount_paid",
            "campaign_id",
            "created_at",
            "customer_email",
            "customer_name",
            "deleted_at",
            "description",
            "due_date",
            "id",
            "invoice_number",
            "notes",
            "posting_date",
            "state",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_invoices_arive_update)

    public_magic_link_tokens_arive_insert = PGGrantTable(
        schema="public",
        table="magic_link_tokens",
        columns=["created_at", "deleted_at", "expires_at", "id", "token_hash", "updated_at", "used_at", "user_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_magic_link_tokens_arive_insert)

    public_magic_link_tokens_arive_select = PGGrantTable(
        schema="public",
        table="magic_link_tokens",
        columns=["created_at", "deleted_at", "expires_at", "id", "token_hash", "updated_at", "used_at", "user_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_magic_link_tokens_arive_select)

    public_magic_link_tokens_arive_update = PGGrantTable(
        schema="public",
        table="magic_link_tokens",
        columns=["created_at", "deleted_at", "expires_at", "id", "token_hash", "updated_at", "used_at", "user_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_magic_link_tokens_arive_update)

    public_media_arive_insert = PGGrantTable(
        schema="public",
        table="media",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_media_arive_insert)

    public_media_arive_select = PGGrantTable(
        schema="public",
        table="media",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_media_arive_select)

    public_media_arive_update = PGGrantTable(
        schema="public",
        table="media",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_media_arive_update)

    public_messages_arive_insert = PGGrantTable(
        schema="public",
        table="messages",
        columns=[
            "campaign_id",
            "content",
            "created_at",
            "deleted_at",
            "id",
            "team_id",
            "thread_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_messages_arive_insert)

    public_messages_arive_select = PGGrantTable(
        schema="public",
        table="messages",
        columns=[
            "campaign_id",
            "content",
            "created_at",
            "deleted_at",
            "id",
            "team_id",
            "thread_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_messages_arive_select)

    public_messages_arive_update = PGGrantTable(
        schema="public",
        table="messages",
        columns=[
            "campaign_id",
            "content",
            "created_at",
            "deleted_at",
            "id",
            "team_id",
            "thread_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_messages_arive_update)

    public_payment_blocks_arive_insert = PGGrantTable(
        schema="public",
        table="payment_blocks",
        columns=[
            "amount_usd",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "label",
            "net_days",
            "order_index",
            "percent",
            "team_id",
            "trigger",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_payment_blocks_arive_insert)

    public_payment_blocks_arive_select = PGGrantTable(
        schema="public",
        table="payment_blocks",
        columns=[
            "amount_usd",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "label",
            "net_days",
            "order_index",
            "percent",
            "team_id",
            "trigger",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_payment_blocks_arive_select)

    public_payment_blocks_arive_update = PGGrantTable(
        schema="public",
        table="payment_blocks",
        columns=[
            "amount_usd",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "label",
            "net_days",
            "order_index",
            "percent",
            "team_id",
            "trigger",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_payment_blocks_arive_update)

    public_roles_arive_insert = PGGrantTable(
        schema="public",
        table="roles",
        columns=["created_at", "deleted_at", "id", "role_level", "team_id", "updated_at", "user_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_roles_arive_insert)

    public_roles_arive_select = PGGrantTable(
        schema="public",
        table="roles",
        columns=["created_at", "deleted_at", "id", "role_level", "team_id", "updated_at", "user_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_roles_arive_select)

    public_roles_arive_update = PGGrantTable(
        schema="public",
        table="roles",
        columns=["created_at", "deleted_at", "id", "role_level", "team_id", "updated_at", "user_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_roles_arive_update)

    public_roster_arive_insert = PGGrantTable(
        schema="public",
        table="roster",
        columns=[
            "birthdate",
            "created_at",
            "deleted_at",
            "email",
            "facebook_handle",
            "id",
            "instagram_handle",
            "name",
            "phone",
            "profile_photo_id",
            "state",
            "team_id",
            "tiktok_handle",
            "updated_at",
            "user_id",
            "youtube_channel",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_roster_arive_insert)

    public_roster_arive_select = PGGrantTable(
        schema="public",
        table="roster",
        columns=[
            "birthdate",
            "created_at",
            "deleted_at",
            "email",
            "facebook_handle",
            "id",
            "instagram_handle",
            "name",
            "phone",
            "profile_photo_id",
            "state",
            "team_id",
            "tiktok_handle",
            "updated_at",
            "user_id",
            "youtube_channel",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_roster_arive_select)

    public_roster_arive_update = PGGrantTable(
        schema="public",
        table="roster",
        columns=[
            "birthdate",
            "created_at",
            "deleted_at",
            "email",
            "facebook_handle",
            "id",
            "instagram_handle",
            "name",
            "phone",
            "profile_photo_id",
            "state",
            "team_id",
            "tiktok_handle",
            "updated_at",
            "user_id",
            "youtube_channel",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_roster_arive_update)

    public_sessions_arive_insert = PGGrantTable(
        schema="public",
        table="sessions",
        columns=["data", "expires_at", "session_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_sessions_arive_insert)

    public_sessions_arive_select = PGGrantTable(
        schema="public",
        table="sessions",
        columns=["data", "expires_at", "session_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_sessions_arive_select)

    public_sessions_arive_update = PGGrantTable(
        schema="public",
        table="sessions",
        columns=["data", "expires_at", "session_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_sessions_arive_update)

    public_team_invitation_tokens_arive_insert = PGGrantTable(
        schema="public",
        table="team_invitation_tokens",
        columns=[
            "accepted_at",
            "created_at",
            "deleted_at",
            "expires_at",
            "id",
            "invited_by_user_id",
            "invited_email",
            "team_id",
            "token_hash",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_team_invitation_tokens_arive_insert)

    public_team_invitation_tokens_arive_select = PGGrantTable(
        schema="public",
        table="team_invitation_tokens",
        columns=[
            "accepted_at",
            "created_at",
            "deleted_at",
            "expires_at",
            "id",
            "invited_by_user_id",
            "invited_email",
            "team_id",
            "token_hash",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_team_invitation_tokens_arive_select)

    public_team_invitation_tokens_arive_update = PGGrantTable(
        schema="public",
        table="team_invitation_tokens",
        columns=[
            "accepted_at",
            "created_at",
            "deleted_at",
            "expires_at",
            "id",
            "invited_by_user_id",
            "invited_email",
            "team_id",
            "token_hash",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_team_invitation_tokens_arive_update)

    public_teams_arive_insert = PGGrantTable(
        schema="public",
        table="teams",
        columns=["created_at", "deleted_at", "description", "id", "name", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_teams_arive_insert)

    public_teams_arive_select = PGGrantTable(
        schema="public",
        table="teams",
        columns=["created_at", "deleted_at", "description", "id", "name", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_teams_arive_select)

    public_teams_arive_update = PGGrantTable(
        schema="public",
        table="teams",
        columns=["created_at", "deleted_at", "description", "id", "name", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_teams_arive_update)

    public_thread_read_statuses_arive_insert = PGGrantTable(
        schema="public",
        table="thread_read_statuses",
        columns=["created_at", "deleted_at", "id", "read_at", "thread_id", "updated_at", "user_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_thread_read_statuses_arive_insert)

    public_thread_read_statuses_arive_select = PGGrantTable(
        schema="public",
        table="thread_read_statuses",
        columns=["created_at", "deleted_at", "id", "read_at", "thread_id", "updated_at", "user_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_thread_read_statuses_arive_select)

    public_thread_read_statuses_arive_update = PGGrantTable(
        schema="public",
        table="thread_read_statuses",
        columns=["created_at", "deleted_at", "id", "read_at", "thread_id", "updated_at", "user_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_thread_read_statuses_arive_update)

    public_thread_viewer_events_arive_insert = PGGrantTable(
        schema="public",
        table="thread_viewer_events",
        columns=["created_at", "deleted_at", "event_type", "id", "thread_id", "updated_at", "user_id", "user_name"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_thread_viewer_events_arive_insert)

    public_thread_viewer_events_arive_select = PGGrantTable(
        schema="public",
        table="thread_viewer_events",
        columns=["created_at", "deleted_at", "event_type", "id", "thread_id", "updated_at", "user_id", "user_name"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_thread_viewer_events_arive_select)

    public_thread_viewer_events_arive_update = PGGrantTable(
        schema="public",
        table="thread_viewer_events",
        columns=["created_at", "deleted_at", "event_type", "id", "thread_id", "updated_at", "user_id", "user_name"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_thread_viewer_events_arive_update)

    public_threads_arive_insert = PGGrantTable(
        schema="public",
        table="threads",
        columns=["created_at", "deleted_at", "id", "team_id", "threadable_id", "threadable_type", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_threads_arive_insert)

    public_threads_arive_select = PGGrantTable(
        schema="public",
        table="threads",
        columns=["created_at", "deleted_at", "id", "team_id", "threadable_id", "threadable_type", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_threads_arive_select)

    public_threads_arive_update = PGGrantTable(
        schema="public",
        table="threads",
        columns=["created_at", "deleted_at", "id", "team_id", "threadable_id", "threadable_type", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_threads_arive_update)

    public_users_arive_insert = PGGrantTable(
        schema="public",
        table="users",
        columns=["created_at", "deleted_at", "email", "email_verified", "id", "name", "state", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.drop_entity(public_users_arive_insert)

    public_users_arive_select = PGGrantTable(
        schema="public",
        table="users",
        columns=["created_at", "deleted_at", "email", "email_verified", "id", "name", "state", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.drop_entity(public_users_arive_select)

    public_users_arive_update = PGGrantTable(
        schema="public",
        table="users",
        columns=["created_at", "deleted_at", "email", "email_verified", "id", "name", "state", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.drop_entity(public_users_arive_update)

    public_alembic_version_arive_delete = PGGrantTable(
        schema="public", table="alembic_version", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_alembic_version_arive_delete)

    public_teams_arive_delete = PGGrantTable(
        schema="public", table="teams", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_teams_arive_delete)

    public_brands_arive_delete = PGGrantTable(
        schema="public", table="brands", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_brands_arive_delete)

    public_dashboards_arive_delete = PGGrantTable(
        schema="public", table="dashboards", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_dashboards_arive_delete)

    public_users_arive_delete = PGGrantTable(
        schema="public", table="users", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_users_arive_delete)

    public_google_oauth_states_arive_delete = PGGrantTable(
        schema="public", table="google_oauth_states", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_google_oauth_states_arive_delete)

    public_sessions_arive_delete = PGGrantTable(
        schema="public", table="sessions", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_sessions_arive_delete)

    public_email_messages_arive_delete = PGGrantTable(
        schema="public", table="email_messages", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_email_messages_arive_delete)

    public_events_arive_delete = PGGrantTable(
        schema="public", table="events", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_events_arive_delete)

    public_google_oauth_accounts_arive_delete = PGGrantTable(
        schema="public",
        table="google_oauth_accounts",
        columns=[],
        role="arive",
        grant="DELETE",
        with_grant_option=False,
    )
    op.drop_entity(public_google_oauth_accounts_arive_delete)

    public_inbound_emails_arive_delete = PGGrantTable(
        schema="public", table="inbound_emails", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_inbound_emails_arive_delete)

    public_magic_link_tokens_arive_delete = PGGrantTable(
        schema="public", table="magic_link_tokens", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_magic_link_tokens_arive_delete)

    public_roles_arive_delete = PGGrantTable(
        schema="public", table="roles", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_roles_arive_delete)

    public_roster_arive_delete = PGGrantTable(
        schema="public", table="roster", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_roster_arive_delete)

    public_team_invitation_tokens_arive_delete = PGGrantTable(
        schema="public",
        table="team_invitation_tokens",
        columns=[],
        role="arive",
        grant="DELETE",
        with_grant_option=False,
    )
    op.drop_entity(public_team_invitation_tokens_arive_delete)

    public_threads_arive_delete = PGGrantTable(
        schema="public", table="threads", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_threads_arive_delete)

    public_brand_contacts_arive_delete = PGGrantTable(
        schema="public", table="brand_contacts", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_brand_contacts_arive_delete)

    public_campaigns_arive_delete = PGGrantTable(
        schema="public", table="campaigns", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_campaigns_arive_delete)

    public_thread_read_statuses_arive_delete = PGGrantTable(
        schema="public", table="thread_read_statuses", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_thread_read_statuses_arive_delete)

    public_thread_viewer_events_arive_delete = PGGrantTable(
        schema="public", table="thread_viewer_events", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_thread_viewer_events_arive_delete)

    public_campaign_guests_arive_delete = PGGrantTable(
        schema="public", table="campaign_guests", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_campaign_guests_arive_delete)

    public_campaign_lead_contacts_arive_delete = PGGrantTable(
        schema="public",
        table="campaign_lead_contacts",
        columns=[],
        role="arive",
        grant="DELETE",
        with_grant_option=False,
    )
    op.drop_entity(public_campaign_lead_contacts_arive_delete)

    public_deliverable_media_arive_delete = PGGrantTable(
        schema="public", table="deliverable_media", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_deliverable_media_arive_delete)

    public_deliverables_arive_delete = PGGrantTable(
        schema="public", table="deliverables", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_deliverables_arive_delete)

    public_documents_arive_delete = PGGrantTable(
        schema="public", table="documents", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_documents_arive_delete)

    public_invoices_arive_delete = PGGrantTable(
        schema="public", table="invoices", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_invoices_arive_delete)

    public_media_arive_delete = PGGrantTable(
        schema="public", table="media", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_media_arive_delete)

    public_messages_arive_delete = PGGrantTable(
        schema="public", table="messages", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_messages_arive_delete)

    public_payment_blocks_arive_delete = PGGrantTable(
        schema="public", table="payment_blocks", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_payment_blocks_arive_delete)

    public_campaign_contracts_arive_delete = PGGrantTable(
        schema="public", table="campaign_contracts", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.drop_entity(public_campaign_contracts_arive_delete)

    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###

    public_campaign_contracts_arive_delete = PGGrantTable(
        schema="public", table="campaign_contracts", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_campaign_contracts_arive_delete)

    public_payment_blocks_arive_delete = PGGrantTable(
        schema="public", table="payment_blocks", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_payment_blocks_arive_delete)

    public_messages_arive_delete = PGGrantTable(
        schema="public", table="messages", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_messages_arive_delete)

    public_media_arive_delete = PGGrantTable(
        schema="public", table="media", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_media_arive_delete)

    public_invoices_arive_delete = PGGrantTable(
        schema="public", table="invoices", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_invoices_arive_delete)

    public_documents_arive_delete = PGGrantTable(
        schema="public", table="documents", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_documents_arive_delete)

    public_deliverables_arive_delete = PGGrantTable(
        schema="public", table="deliverables", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_deliverables_arive_delete)

    public_deliverable_media_arive_delete = PGGrantTable(
        schema="public", table="deliverable_media", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_deliverable_media_arive_delete)

    public_campaign_lead_contacts_arive_delete = PGGrantTable(
        schema="public",
        table="campaign_lead_contacts",
        columns=[],
        role="arive",
        grant="DELETE",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_lead_contacts_arive_delete)

    public_campaign_guests_arive_delete = PGGrantTable(
        schema="public", table="campaign_guests", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_campaign_guests_arive_delete)

    public_thread_viewer_events_arive_delete = PGGrantTable(
        schema="public", table="thread_viewer_events", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_thread_viewer_events_arive_delete)

    public_thread_read_statuses_arive_delete = PGGrantTable(
        schema="public", table="thread_read_statuses", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_thread_read_statuses_arive_delete)

    public_campaigns_arive_delete = PGGrantTable(
        schema="public", table="campaigns", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_campaigns_arive_delete)

    public_brand_contacts_arive_delete = PGGrantTable(
        schema="public", table="brand_contacts", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_brand_contacts_arive_delete)

    public_threads_arive_delete = PGGrantTable(
        schema="public", table="threads", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_threads_arive_delete)

    public_team_invitation_tokens_arive_delete = PGGrantTable(
        schema="public",
        table="team_invitation_tokens",
        columns=[],
        role="arive",
        grant="DELETE",
        with_grant_option=False,
    )
    op.create_entity(public_team_invitation_tokens_arive_delete)

    public_roster_arive_delete = PGGrantTable(
        schema="public", table="roster", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_roster_arive_delete)

    public_roles_arive_delete = PGGrantTable(
        schema="public", table="roles", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_roles_arive_delete)

    public_magic_link_tokens_arive_delete = PGGrantTable(
        schema="public", table="magic_link_tokens", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_magic_link_tokens_arive_delete)

    public_inbound_emails_arive_delete = PGGrantTable(
        schema="public", table="inbound_emails", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_inbound_emails_arive_delete)

    public_google_oauth_accounts_arive_delete = PGGrantTable(
        schema="public",
        table="google_oauth_accounts",
        columns=[],
        role="arive",
        grant="DELETE",
        with_grant_option=False,
    )
    op.create_entity(public_google_oauth_accounts_arive_delete)

    public_events_arive_delete = PGGrantTable(
        schema="public", table="events", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_events_arive_delete)

    public_email_messages_arive_delete = PGGrantTable(
        schema="public", table="email_messages", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_email_messages_arive_delete)

    public_sessions_arive_delete = PGGrantTable(
        schema="public", table="sessions", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_sessions_arive_delete)

    public_google_oauth_states_arive_delete = PGGrantTable(
        schema="public", table="google_oauth_states", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_google_oauth_states_arive_delete)

    public_users_arive_delete = PGGrantTable(
        schema="public", table="users", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_users_arive_delete)

    public_dashboards_arive_delete = PGGrantTable(
        schema="public", table="dashboards", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_dashboards_arive_delete)

    public_brands_arive_delete = PGGrantTable(
        schema="public", table="brands", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_brands_arive_delete)

    public_teams_arive_delete = PGGrantTable(
        schema="public", table="teams", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_teams_arive_delete)

    public_alembic_version_arive_delete = PGGrantTable(
        schema="public", table="alembic_version", columns=[], role="arive", grant="DELETE", with_grant_option=False
    )
    op.create_entity(public_alembic_version_arive_delete)

    public_users_arive_update = PGGrantTable(
        schema="public",
        table="users",
        columns=["created_at", "deleted_at", "email", "email_verified", "id", "name", "state", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_users_arive_update)

    public_users_arive_select = PGGrantTable(
        schema="public",
        table="users",
        columns=["created_at", "deleted_at", "email", "email_verified", "id", "name", "state", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_users_arive_select)

    public_users_arive_insert = PGGrantTable(
        schema="public",
        table="users",
        columns=["created_at", "deleted_at", "email", "email_verified", "id", "name", "state", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_users_arive_insert)

    public_threads_arive_update = PGGrantTable(
        schema="public",
        table="threads",
        columns=["created_at", "deleted_at", "id", "team_id", "threadable_id", "threadable_type", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_threads_arive_update)

    public_threads_arive_select = PGGrantTable(
        schema="public",
        table="threads",
        columns=["created_at", "deleted_at", "id", "team_id", "threadable_id", "threadable_type", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_threads_arive_select)

    public_threads_arive_insert = PGGrantTable(
        schema="public",
        table="threads",
        columns=["created_at", "deleted_at", "id", "team_id", "threadable_id", "threadable_type", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_threads_arive_insert)

    public_thread_viewer_events_arive_update = PGGrantTable(
        schema="public",
        table="thread_viewer_events",
        columns=["created_at", "deleted_at", "event_type", "id", "thread_id", "updated_at", "user_id", "user_name"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_thread_viewer_events_arive_update)

    public_thread_viewer_events_arive_select = PGGrantTable(
        schema="public",
        table="thread_viewer_events",
        columns=["created_at", "deleted_at", "event_type", "id", "thread_id", "updated_at", "user_id", "user_name"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_thread_viewer_events_arive_select)

    public_thread_viewer_events_arive_insert = PGGrantTable(
        schema="public",
        table="thread_viewer_events",
        columns=["created_at", "deleted_at", "event_type", "id", "thread_id", "updated_at", "user_id", "user_name"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_thread_viewer_events_arive_insert)

    public_thread_read_statuses_arive_update = PGGrantTable(
        schema="public",
        table="thread_read_statuses",
        columns=["created_at", "deleted_at", "id", "read_at", "thread_id", "updated_at", "user_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_thread_read_statuses_arive_update)

    public_thread_read_statuses_arive_select = PGGrantTable(
        schema="public",
        table="thread_read_statuses",
        columns=["created_at", "deleted_at", "id", "read_at", "thread_id", "updated_at", "user_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_thread_read_statuses_arive_select)

    public_thread_read_statuses_arive_insert = PGGrantTable(
        schema="public",
        table="thread_read_statuses",
        columns=["created_at", "deleted_at", "id", "read_at", "thread_id", "updated_at", "user_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_thread_read_statuses_arive_insert)

    public_teams_arive_update = PGGrantTable(
        schema="public",
        table="teams",
        columns=["created_at", "deleted_at", "description", "id", "name", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_teams_arive_update)

    public_teams_arive_select = PGGrantTable(
        schema="public",
        table="teams",
        columns=["created_at", "deleted_at", "description", "id", "name", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_teams_arive_select)

    public_teams_arive_insert = PGGrantTable(
        schema="public",
        table="teams",
        columns=["created_at", "deleted_at", "description", "id", "name", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_teams_arive_insert)

    public_team_invitation_tokens_arive_update = PGGrantTable(
        schema="public",
        table="team_invitation_tokens",
        columns=[
            "accepted_at",
            "created_at",
            "deleted_at",
            "expires_at",
            "id",
            "invited_by_user_id",
            "invited_email",
            "team_id",
            "token_hash",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_team_invitation_tokens_arive_update)

    public_team_invitation_tokens_arive_select = PGGrantTable(
        schema="public",
        table="team_invitation_tokens",
        columns=[
            "accepted_at",
            "created_at",
            "deleted_at",
            "expires_at",
            "id",
            "invited_by_user_id",
            "invited_email",
            "team_id",
            "token_hash",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_team_invitation_tokens_arive_select)

    public_team_invitation_tokens_arive_insert = PGGrantTable(
        schema="public",
        table="team_invitation_tokens",
        columns=[
            "accepted_at",
            "created_at",
            "deleted_at",
            "expires_at",
            "id",
            "invited_by_user_id",
            "invited_email",
            "team_id",
            "token_hash",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_team_invitation_tokens_arive_insert)

    public_sessions_arive_update = PGGrantTable(
        schema="public",
        table="sessions",
        columns=["data", "expires_at", "session_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_sessions_arive_update)

    public_sessions_arive_select = PGGrantTable(
        schema="public",
        table="sessions",
        columns=["data", "expires_at", "session_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_sessions_arive_select)

    public_sessions_arive_insert = PGGrantTable(
        schema="public",
        table="sessions",
        columns=["data", "expires_at", "session_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_sessions_arive_insert)

    public_roster_arive_update = PGGrantTable(
        schema="public",
        table="roster",
        columns=[
            "birthdate",
            "created_at",
            "deleted_at",
            "email",
            "facebook_handle",
            "id",
            "instagram_handle",
            "name",
            "phone",
            "profile_photo_id",
            "state",
            "team_id",
            "tiktok_handle",
            "updated_at",
            "user_id",
            "youtube_channel",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_roster_arive_update)

    public_roster_arive_select = PGGrantTable(
        schema="public",
        table="roster",
        columns=[
            "birthdate",
            "created_at",
            "deleted_at",
            "email",
            "facebook_handle",
            "id",
            "instagram_handle",
            "name",
            "phone",
            "profile_photo_id",
            "state",
            "team_id",
            "tiktok_handle",
            "updated_at",
            "user_id",
            "youtube_channel",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_roster_arive_select)

    public_roster_arive_insert = PGGrantTable(
        schema="public",
        table="roster",
        columns=[
            "birthdate",
            "created_at",
            "deleted_at",
            "email",
            "facebook_handle",
            "id",
            "instagram_handle",
            "name",
            "phone",
            "profile_photo_id",
            "state",
            "team_id",
            "tiktok_handle",
            "updated_at",
            "user_id",
            "youtube_channel",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_roster_arive_insert)

    public_roles_arive_update = PGGrantTable(
        schema="public",
        table="roles",
        columns=["created_at", "deleted_at", "id", "role_level", "team_id", "updated_at", "user_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_roles_arive_update)

    public_roles_arive_select = PGGrantTable(
        schema="public",
        table="roles",
        columns=["created_at", "deleted_at", "id", "role_level", "team_id", "updated_at", "user_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_roles_arive_select)

    public_roles_arive_insert = PGGrantTable(
        schema="public",
        table="roles",
        columns=["created_at", "deleted_at", "id", "role_level", "team_id", "updated_at", "user_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_roles_arive_insert)

    public_payment_blocks_arive_update = PGGrantTable(
        schema="public",
        table="payment_blocks",
        columns=[
            "amount_usd",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "label",
            "net_days",
            "order_index",
            "percent",
            "team_id",
            "trigger",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_payment_blocks_arive_update)

    public_payment_blocks_arive_select = PGGrantTable(
        schema="public",
        table="payment_blocks",
        columns=[
            "amount_usd",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "label",
            "net_days",
            "order_index",
            "percent",
            "team_id",
            "trigger",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_payment_blocks_arive_select)

    public_payment_blocks_arive_insert = PGGrantTable(
        schema="public",
        table="payment_blocks",
        columns=[
            "amount_usd",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "label",
            "net_days",
            "order_index",
            "percent",
            "team_id",
            "trigger",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_payment_blocks_arive_insert)

    public_messages_arive_update = PGGrantTable(
        schema="public",
        table="messages",
        columns=[
            "campaign_id",
            "content",
            "created_at",
            "deleted_at",
            "id",
            "team_id",
            "thread_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_messages_arive_update)

    public_messages_arive_select = PGGrantTable(
        schema="public",
        table="messages",
        columns=[
            "campaign_id",
            "content",
            "created_at",
            "deleted_at",
            "id",
            "team_id",
            "thread_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_messages_arive_select)

    public_messages_arive_insert = PGGrantTable(
        schema="public",
        table="messages",
        columns=[
            "campaign_id",
            "content",
            "created_at",
            "deleted_at",
            "id",
            "team_id",
            "thread_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_messages_arive_insert)

    public_media_arive_update = PGGrantTable(
        schema="public",
        table="media",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_media_arive_update)

    public_media_arive_select = PGGrantTable(
        schema="public",
        table="media",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_media_arive_select)

    public_media_arive_insert = PGGrantTable(
        schema="public",
        table="media",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_media_arive_insert)

    public_magic_link_tokens_arive_update = PGGrantTable(
        schema="public",
        table="magic_link_tokens",
        columns=["created_at", "deleted_at", "expires_at", "id", "token_hash", "updated_at", "used_at", "user_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_magic_link_tokens_arive_update)

    public_magic_link_tokens_arive_select = PGGrantTable(
        schema="public",
        table="magic_link_tokens",
        columns=["created_at", "deleted_at", "expires_at", "id", "token_hash", "updated_at", "used_at", "user_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_magic_link_tokens_arive_select)

    public_magic_link_tokens_arive_insert = PGGrantTable(
        schema="public",
        table="magic_link_tokens",
        columns=["created_at", "deleted_at", "expires_at", "id", "token_hash", "updated_at", "used_at", "user_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_magic_link_tokens_arive_insert)

    public_invoices_arive_update = PGGrantTable(
        schema="public",
        table="invoices",
        columns=[
            "amount_due",
            "amount_paid",
            "campaign_id",
            "created_at",
            "customer_email",
            "customer_name",
            "deleted_at",
            "description",
            "due_date",
            "id",
            "invoice_number",
            "notes",
            "posting_date",
            "state",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_invoices_arive_update)

    public_invoices_arive_select = PGGrantTable(
        schema="public",
        table="invoices",
        columns=[
            "amount_due",
            "amount_paid",
            "campaign_id",
            "created_at",
            "customer_email",
            "customer_name",
            "deleted_at",
            "description",
            "due_date",
            "id",
            "invoice_number",
            "notes",
            "posting_date",
            "state",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_invoices_arive_select)

    public_invoices_arive_insert = PGGrantTable(
        schema="public",
        table="invoices",
        columns=[
            "amount_due",
            "amount_paid",
            "campaign_id",
            "created_at",
            "customer_email",
            "customer_name",
            "deleted_at",
            "description",
            "due_date",
            "id",
            "invoice_number",
            "notes",
            "posting_date",
            "state",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_invoices_arive_insert)

    public_inbound_emails_arive_update = PGGrantTable(
        schema="public",
        table="inbound_emails",
        columns=[
            "attachments_json",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "processed_at",
            "received_at",
            "s3_bucket",
            "s3_key",
            "ses_message_id",
            "subject",
            "task_id",
            "team_id",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_inbound_emails_arive_update)

    public_inbound_emails_arive_select = PGGrantTable(
        schema="public",
        table="inbound_emails",
        columns=[
            "attachments_json",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "processed_at",
            "received_at",
            "s3_bucket",
            "s3_key",
            "ses_message_id",
            "subject",
            "task_id",
            "team_id",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_inbound_emails_arive_select)

    public_inbound_emails_arive_insert = PGGrantTable(
        schema="public",
        table="inbound_emails",
        columns=[
            "attachments_json",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "processed_at",
            "received_at",
            "s3_bucket",
            "s3_key",
            "ses_message_id",
            "subject",
            "task_id",
            "team_id",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_inbound_emails_arive_insert)

    public_google_oauth_states_arive_update = PGGrantTable(
        schema="public",
        table="google_oauth_states",
        columns=["created_at", "deleted_at", "expires_at", "id", "redirect_uri", "state", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_google_oauth_states_arive_update)

    public_google_oauth_states_arive_select = PGGrantTable(
        schema="public",
        table="google_oauth_states",
        columns=["created_at", "deleted_at", "expires_at", "id", "redirect_uri", "state", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_google_oauth_states_arive_select)

    public_google_oauth_states_arive_insert = PGGrantTable(
        schema="public",
        table="google_oauth_states",
        columns=["created_at", "deleted_at", "expires_at", "id", "redirect_uri", "state", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_google_oauth_states_arive_insert)

    public_google_oauth_accounts_arive_update = PGGrantTable(
        schema="public",
        table="google_oauth_accounts",
        columns=[
            "access_token",
            "created_at",
            "deleted_at",
            "email",
            "google_id",
            "id",
            "name",
            "picture",
            "refresh_token",
            "token_expires_at",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_google_oauth_accounts_arive_update)

    public_google_oauth_accounts_arive_select = PGGrantTable(
        schema="public",
        table="google_oauth_accounts",
        columns=[
            "access_token",
            "created_at",
            "deleted_at",
            "email",
            "google_id",
            "id",
            "name",
            "picture",
            "refresh_token",
            "token_expires_at",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_google_oauth_accounts_arive_select)

    public_google_oauth_accounts_arive_insert = PGGrantTable(
        schema="public",
        table="google_oauth_accounts",
        columns=[
            "access_token",
            "created_at",
            "deleted_at",
            "email",
            "google_id",
            "id",
            "name",
            "picture",
            "refresh_token",
            "token_expires_at",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_google_oauth_accounts_arive_insert)

    public_events_arive_update = PGGrantTable(
        schema="public",
        table="events",
        columns=[
            "actor_id",
            "created_at",
            "deleted_at",
            "event_data",
            "event_type",
            "id",
            "object_id",
            "object_type",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_events_arive_update)

    public_events_arive_select = PGGrantTable(
        schema="public",
        table="events",
        columns=[
            "actor_id",
            "created_at",
            "deleted_at",
            "event_data",
            "event_type",
            "id",
            "object_id",
            "object_type",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_events_arive_select)

    public_events_arive_insert = PGGrantTable(
        schema="public",
        table="events",
        columns=[
            "actor_id",
            "created_at",
            "deleted_at",
            "event_data",
            "event_type",
            "id",
            "object_id",
            "object_type",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_events_arive_insert)

    public_email_messages_arive_update = PGGrantTable(
        schema="public",
        table="email_messages",
        columns=[
            "body_html",
            "body_text",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "reply_to_email",
            "sent_at",
            "ses_message_id",
            "subject",
            "team_id",
            "template_name",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_email_messages_arive_update)

    public_email_messages_arive_select = PGGrantTable(
        schema="public",
        table="email_messages",
        columns=[
            "body_html",
            "body_text",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "reply_to_email",
            "sent_at",
            "ses_message_id",
            "subject",
            "team_id",
            "template_name",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_email_messages_arive_select)

    public_email_messages_arive_insert = PGGrantTable(
        schema="public",
        table="email_messages",
        columns=[
            "body_html",
            "body_text",
            "created_at",
            "deleted_at",
            "from_email",
            "id",
            "reply_to_email",
            "sent_at",
            "ses_message_id",
            "subject",
            "team_id",
            "template_name",
            "to_email",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_email_messages_arive_insert)

    public_documents_arive_update = PGGrantTable(
        schema="public",
        table="documents",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_documents_arive_update)

    public_documents_arive_select = PGGrantTable(
        schema="public",
        table="documents",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_documents_arive_select)

    public_documents_arive_insert = PGGrantTable(
        schema="public",
        table="documents",
        columns=[
            "campaign_id",
            "created_at",
            "deleted_at",
            "file_key",
            "file_name",
            "file_size",
            "file_type",
            "id",
            "mime_type",
            "state",
            "team_id",
            "thumbnail_key",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_documents_arive_insert)

    public_deliverables_arive_update = PGGrantTable(
        schema="public",
        table="deliverables",
        columns=[
            "approval_required",
            "approval_rounds",
            "campaign_id",
            "content",
            "count",
            "created_at",
            "deleted_at",
            "deliverable_type",
            "disclosures",
            "handles",
            "hashtags",
            "id",
            "notes",
            "platforms",
            "posting_date",
            "posting_end_date",
            "posting_start_date",
            "state",
            "team_id",
            "title",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_deliverables_arive_update)

    public_deliverables_arive_select = PGGrantTable(
        schema="public",
        table="deliverables",
        columns=[
            "approval_required",
            "approval_rounds",
            "campaign_id",
            "content",
            "count",
            "created_at",
            "deleted_at",
            "deliverable_type",
            "disclosures",
            "handles",
            "hashtags",
            "id",
            "notes",
            "platforms",
            "posting_date",
            "posting_end_date",
            "posting_start_date",
            "state",
            "team_id",
            "title",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_deliverables_arive_select)

    public_deliverables_arive_insert = PGGrantTable(
        schema="public",
        table="deliverables",
        columns=[
            "approval_required",
            "approval_rounds",
            "campaign_id",
            "content",
            "count",
            "created_at",
            "deleted_at",
            "deliverable_type",
            "disclosures",
            "handles",
            "hashtags",
            "id",
            "notes",
            "platforms",
            "posting_date",
            "posting_end_date",
            "posting_start_date",
            "state",
            "team_id",
            "title",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_deliverables_arive_insert)

    public_deliverable_media_arive_update = PGGrantTable(
        schema="public",
        table="deliverable_media",
        columns=[
            "approved_at",
            "campaign_id",
            "created_at",
            "deleted_at",
            "deliverable_id",
            "id",
            "is_featured",
            "media_id",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_deliverable_media_arive_update)

    public_deliverable_media_arive_select = PGGrantTable(
        schema="public",
        table="deliverable_media",
        columns=[
            "approved_at",
            "campaign_id",
            "created_at",
            "deleted_at",
            "deliverable_id",
            "id",
            "is_featured",
            "media_id",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_deliverable_media_arive_select)

    public_deliverable_media_arive_insert = PGGrantTable(
        schema="public",
        table="deliverable_media",
        columns=[
            "approved_at",
            "campaign_id",
            "created_at",
            "deleted_at",
            "deliverable_id",
            "id",
            "is_featured",
            "media_id",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_deliverable_media_arive_insert)

    public_dashboards_arive_update = PGGrantTable(
        schema="public",
        table="dashboards",
        columns=[
            "config",
            "created_at",
            "deleted_at",
            "id",
            "is_default",
            "name",
            "owner_type",
            "team_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_dashboards_arive_update)

    public_dashboards_arive_select = PGGrantTable(
        schema="public",
        table="dashboards",
        columns=[
            "config",
            "created_at",
            "deleted_at",
            "id",
            "is_default",
            "name",
            "owner_type",
            "team_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_dashboards_arive_select)

    public_dashboards_arive_insert = PGGrantTable(
        schema="public",
        table="dashboards",
        columns=[
            "config",
            "created_at",
            "deleted_at",
            "id",
            "is_default",
            "name",
            "owner_type",
            "team_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_dashboards_arive_insert)

    public_campaigns_arive_update = PGGrantTable(
        schema="public",
        table="campaigns",
        columns=[
            "approval_rounds",
            "approval_sla_hours",
            "assigned_roster_id",
            "brand_id",
            "compensation_structure",
            "compensation_total_usd",
            "counterparty_email",
            "counterparty_name",
            "counterparty_type",
            "created_at",
            "deleted_at",
            "description",
            "exclusivity_category",
            "exclusivity_days_after",
            "exclusivity_days_before",
            "flight_end_date",
            "flight_start_date",
            "ftc_string",
            "id",
            "name",
            "ownership_mode",
            "payment_terms_days",
            "state",
            "team_id",
            "updated_at",
            "usage_duration",
            "usage_paid_media_option",
            "usage_territory",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_campaigns_arive_update)

    public_campaigns_arive_select = PGGrantTable(
        schema="public",
        table="campaigns",
        columns=[
            "approval_rounds",
            "approval_sla_hours",
            "assigned_roster_id",
            "brand_id",
            "compensation_structure",
            "compensation_total_usd",
            "counterparty_email",
            "counterparty_name",
            "counterparty_type",
            "created_at",
            "deleted_at",
            "description",
            "exclusivity_category",
            "exclusivity_days_after",
            "exclusivity_days_before",
            "flight_end_date",
            "flight_start_date",
            "ftc_string",
            "id",
            "name",
            "ownership_mode",
            "payment_terms_days",
            "state",
            "team_id",
            "updated_at",
            "usage_duration",
            "usage_paid_media_option",
            "usage_territory",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_campaigns_arive_select)

    public_campaigns_arive_insert = PGGrantTable(
        schema="public",
        table="campaigns",
        columns=[
            "approval_rounds",
            "approval_sla_hours",
            "assigned_roster_id",
            "brand_id",
            "compensation_structure",
            "compensation_total_usd",
            "counterparty_email",
            "counterparty_name",
            "counterparty_type",
            "created_at",
            "deleted_at",
            "description",
            "exclusivity_category",
            "exclusivity_days_after",
            "exclusivity_days_before",
            "flight_end_date",
            "flight_start_date",
            "ftc_string",
            "id",
            "name",
            "ownership_mode",
            "payment_terms_days",
            "state",
            "team_id",
            "updated_at",
            "usage_duration",
            "usage_paid_media_option",
            "usage_territory",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_campaigns_arive_insert)

    public_campaign_lead_contacts_arive_update = PGGrantTable(
        schema="public",
        table="campaign_lead_contacts",
        columns=["brand_contact_id", "campaign_id"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_lead_contacts_arive_update)

    public_campaign_lead_contacts_arive_select = PGGrantTable(
        schema="public",
        table="campaign_lead_contacts",
        columns=["brand_contact_id", "campaign_id"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_lead_contacts_arive_select)

    public_campaign_lead_contacts_arive_insert = PGGrantTable(
        schema="public",
        table="campaign_lead_contacts",
        columns=["brand_contact_id", "campaign_id"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_lead_contacts_arive_insert)

    public_campaign_guests_arive_update = PGGrantTable(
        schema="public",
        table="campaign_guests",
        columns=[
            "access_level",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "invited_by_user_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_guests_arive_update)

    public_campaign_guests_arive_select = PGGrantTable(
        schema="public",
        table="campaign_guests",
        columns=[
            "access_level",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "invited_by_user_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_guests_arive_select)

    public_campaign_guests_arive_insert = PGGrantTable(
        schema="public",
        table="campaign_guests",
        columns=[
            "access_level",
            "campaign_id",
            "created_at",
            "deleted_at",
            "id",
            "invited_by_user_id",
            "updated_at",
            "user_id",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_guests_arive_insert)

    public_campaign_contracts_arive_update = PGGrantTable(
        schema="public",
        table="campaign_contracts",
        columns=["campaign_id", "created_at", "deleted_at", "document_id", "id", "team_id", "updated_at"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_contracts_arive_update)

    public_campaign_contracts_arive_select = PGGrantTable(
        schema="public",
        table="campaign_contracts",
        columns=["campaign_id", "created_at", "deleted_at", "document_id", "id", "team_id", "updated_at"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_contracts_arive_select)

    public_campaign_contracts_arive_insert = PGGrantTable(
        schema="public",
        table="campaign_contracts",
        columns=["campaign_id", "created_at", "deleted_at", "document_id", "id", "team_id", "updated_at"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_campaign_contracts_arive_insert)

    public_brands_arive_update = PGGrantTable(
        schema="public",
        table="brands",
        columns=[
            "created_at",
            "deleted_at",
            "description",
            "email",
            "id",
            "name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
            "website",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_brands_arive_update)

    public_brands_arive_select = PGGrantTable(
        schema="public",
        table="brands",
        columns=[
            "created_at",
            "deleted_at",
            "description",
            "email",
            "id",
            "name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
            "website",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_brands_arive_select)

    public_brands_arive_insert = PGGrantTable(
        schema="public",
        table="brands",
        columns=[
            "created_at",
            "deleted_at",
            "description",
            "email",
            "id",
            "name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
            "website",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_brands_arive_insert)

    public_brand_contacts_arive_update = PGGrantTable(
        schema="public",
        table="brand_contacts",
        columns=[
            "brand_id",
            "created_at",
            "deleted_at",
            "email",
            "first_name",
            "id",
            "last_name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_brand_contacts_arive_update)

    public_brand_contacts_arive_select = PGGrantTable(
        schema="public",
        table="brand_contacts",
        columns=[
            "brand_id",
            "created_at",
            "deleted_at",
            "email",
            "first_name",
            "id",
            "last_name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_brand_contacts_arive_select)

    public_brand_contacts_arive_insert = PGGrantTable(
        schema="public",
        table="brand_contacts",
        columns=[
            "brand_id",
            "created_at",
            "deleted_at",
            "email",
            "first_name",
            "id",
            "last_name",
            "notes",
            "phone",
            "team_id",
            "updated_at",
        ],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_brand_contacts_arive_insert)

    public_alembic_version_arive_update = PGGrantTable(
        schema="public",
        table="alembic_version",
        columns=["version_num"],
        role="arive",
        grant="UPDATE",
        with_grant_option=False,
    )
    op.create_entity(public_alembic_version_arive_update)

    public_alembic_version_arive_select = PGGrantTable(
        schema="public",
        table="alembic_version",
        columns=["version_num"],
        role="arive",
        grant="SELECT",
        with_grant_option=False,
    )
    op.create_entity(public_alembic_version_arive_select)

    public_alembic_version_arive_insert = PGGrantTable(
        schema="public",
        table="alembic_version",
        columns=["version_num"],
        role="arive",
        grant="INSERT",
        with_grant_option=False,
    )
    op.create_entity(public_alembic_version_arive_insert)

    op.drop_index("ix_user_single_owner", table_name="roles", postgresql_where=sa.text("role_level = 'OWNER'"))
    op.drop_constraint(None, "inbound_emails", type_="foreignkey")
    op.create_foreign_key(
        op.f("inbound_emails_team_id_fkey"), "inbound_emails", "teams", ["team_id"], ["id"], ondelete="SET NULL"
    )
    op.alter_column("inbound_emails", "team_id", existing_type=sa.INTEGER(), nullable=True)
    op.alter_column("inbound_emails", "from_email", existing_type=sa.TEXT(), nullable=True)
    # ### end Alembic commands ###
